(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var s={},a=[],i=0;i<t.length;i++){var d=t[i],c=o.base?d[0]+o.base:d[0],l=s[c]||0,p="".concat(c," ").concat(l);s[c]=l+1;var u=n(p),m={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)e[u].references++,e[u].updater(m);else{var h=r(m,o);o.byIndex=i,e.splice(i,0,{identifier:p,updater:h,references:1})}a.push(p)}return a}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var s=o(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<s.length;a++){var i=n(s[a]);e[i].references--}for(var d=o(t,r),c=0;c<s.length;c++){var l=n(s[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=d}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},208:(t,e,n)=>{n.d(e,{A:()=>i});var o=n(601),r=n.n(o),s=n(314),a=n.n(s)()(r());a.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap);"]),a.push([t.id,'/* --- CSS Reset --- */\n*, *::before, *::after {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nhtml, body {\n  height: 100%;\n}\n\n/* --- High-level Variables & Styles --- */\n:root {\n  --font-family: \'Montserrat\', sans-serif;\n  --bg-main: #FDFDFF;\n  --bg-sidebar: #F4F7F5;\n  --bg-content: #FFFFFF;\n  --color-text: #2D3142;\n  --color-accent: #A8D8EA;\n  --border-color: #EAEBED;\n  --shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  --delete-btn-bg: #FF6B6B;\n  --overdue-color: #FF6B6B;\n}\n\nbody {\n  font-family: var(--font-family);\n  background-color: var(--bg-main);\n  color: var(--color-text);\n  display: flex;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n/* --- Generic Layout Classes --- */\n.sidebar {\n  width: 280px;\n  background-color: var(--bg-sidebar);\n  padding: 40px 20px;\n  border-right: 1px solid var(--border-color);\n  flex-shrink: 0;\n}\n\n.task-list {\n  width: 350px;\n  flex-shrink: 0;\n  padding: 40px;\n  background-color: var(--bg-content);\n  border-right: 1px solid var(--border-color);\n  overflow-y: auto;\n}\n\n.task-container {\n  width: 320px;\n  padding: 40px;\n  border-left: 1px solid var(--border-color);\n  flex-shrink: 0;\n  overflow-y: auto;\n}\n\n/* --- Generic Element Styling --- */\nh1, h2, h3, h4, h5, h6 {\n  font-weight: 700;\n  margin-bottom: 1rem;\n}\n\nh1 { font-size: 2.5rem; }\nh2 { font-size: 2rem; }\nh3 { font-size: 1.5rem; }\n\np {\n  line-height: 1.6;\n  margin-bottom: 1rem;\n}\n\nbutton {\n  font-family: var(--font-family);\n  font-weight: 600;\n  font-size: 1rem;\n  padding: 12px 24px;\n  border-radius: 8px;\n  border: none;\n  cursor: pointer;\n  background-color: var(--color-accent);\n  color: white;\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\nbutton:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);\n}\n\nbutton.delete {\n  background-color: var(--delete-btn-bg);\n}\n\nbutton.delete:hover {\n  background-color: #ff5252;\n}\n\nbutton.completed {\n  background-color: #6c757d;\n}\n\nbutton.completed:hover {\n  background-color: #5a6268;\n}\n\ninput[type="text"], input[type="date"], textarea {\n  font-family: var(--font-family);\n  width: 100%;\n  padding: 12px;\n  border: 1px solid var(--border-color);\n  border-radius: 8px;\n  font-size: 1rem;\n  margin-bottom: 15px;\n}\n\ninput:focus, textarea:focus {\n  outline: 2px solid var(--color-accent);\n  border-color: transparent;\n}\n\ntextarea {\n  min-height: 100px;\n  resize: vertical;\n}\n\n/* --- Sidebar Specifics --- */\n.logo {\n  margin-bottom: 2rem;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid var(--border-color);\n  text-align: center;\n}\n\n.logo img {\n  max-width: 100%;\n  height: auto;\n  max-height: 60px;\n}\n\n.projects-section h2 {\n  margin-bottom: 1.5rem;\n  font-size: 1.3rem;\n}\n\n.project-list {\n  list-style: none;\n  margin-bottom: 2rem;\n}\n\n.project-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n  margin-bottom: 8px;\n  transition: background-color 0.2s ease;\n  position: relative;\n}\n\n.project-item:hover {\n  background-color: #EAEBED;\n}\n\n.project-item.active {\n  background-color: var(--color-accent);\n  color: white;\n}\n\n.project-name {\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.task-count {\n  font-size: 0.8rem;\n  font-weight: 700;\n  padding: 4px 8px;\n  border-radius: 12px;\n  background-color: #EAEBED;\n  color: var(--color-text);\n  margin-right: 8px;\n}\n\n.project-item.active .task-count {\n  background-color: white;\n  color: var(--color-accent);\n}\n\n.delete-project {\n  background-color: var(--delete-btn-bg);\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-weight: bold;\n  font-size: 16px;\n  padding: 0;\n  margin-left: 8px;\n}\n\n.delete-project:hover {\n  background-color: #ff5252;\n  transform: none;\n  box-shadow: none;\n}\n\n.add-project {\n  display: flex;\n  gap: 10px;\n  align-items: center;\n}\n\n.add-project input {\n  flex: 1;\n}\n\n.add-project button {\n  width: 40px;\n  height: 40px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  font-weight: bold;\n}\n\n\n/* --- Task List Specifics --- */\n.task-list h2 {\n  margin-bottom: 20px;\n}\n\n.add-task-button {\n  margin-bottom: 20px;\n  width: 100%;\n  background-color: var(--color-accent);\n  color: white;\n  padding: 12px;\n  font-size: 1rem;\n  font-weight: 600;\n}\n\n.no-tasks-message {\n  text-align: center;\n  color: #6c757d;\n  font-style: italic;\n  padding: 20px 0;\n}\n\n.task-item {\n  display: flex;\n  align-items: center;\n  padding: 15px;\n  border-bottom: 1px solid var(--border-color);\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n}\n\n.task-item:hover {\n  background-color: #F8F9FA;\n}\n\n.task-item input[type="checkbox"] {\n  margin-right: 15px;\n  width: 20px;\n  height: 20px;\n  flex-shrink: 0;\n}\n\n.task-item .task-title {\n  flex: 1;\n  margin-right: 10px;\n}\n\n.task-item.completed .task-title {\n  text-decoration: line-through;\n  color: #adb5bd;\n}\n\n.task-item.overdue .task-title {\n  color: var(--overdue-color);\n}\n\n.task-item.overdue .task-due {\n  color: var(--overdue-color);\n  font-weight: bold;\n}\n\n.task-item.completed .task-due {\n  text-decoration: line-through;\n  color: #adb5bd;\n}\n\n.task-item.active {\n  background-color: #FFFBEB; /* A light yellow to indicate selection */\n}\n\n.task-due {\n  font-size: 0.8rem;\n  color: #6c757d;\n  white-space: nowrap;\n}\n\n/* Add Task Form */\n.add-task-form {\n  display: flex;\n  flex-direction: column;\n}\n\n.add-task-form h3 {\n  margin-bottom: 20px;\n}\n\n.form-buttons {\n  display: flex;\n  gap: 10px;\n  justify-content: flex-end;\n  margin-top: 10px;\n}\n\n.form-buttons button {\n  padding: 10px 20px;\n}\n\n.form-buttons #cancel-add-task {\n  background-color: #6c757d;\n}\n\n.form-buttons #save-add-task {\n  background-color: var(--color-accent);\n}\n\n\n/* --- Task Container Specifics --- */\n.task-container .task-title {\n  font-size: 1.8rem;\n  font-weight: 700;\n  margin-bottom: 1rem;\n}\n\n.task-container .task-description {\n  font-size: 1rem;\n  line-height: 1.6;\n  margin-bottom: 1.5rem;\n  border: 1px dotted var(--color-accent);\n  padding: 5px;\n  border-radius: 7px;\n}\n\n.task-container .task-due-date {\n  font-weight: 600;\n  color: #6c757d;\n  margin-bottom: 1.5rem;\n}\n\n.task-actions {\n  display: flex;\n  gap: 10px;\n  margin-top: 20px;\n}\n\n.task-actions button {\n  flex: 1;\n}\n',""]);const i=a},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,o,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(o)for(var i=0;i<this.length;i++){var d=this[i][0];null!=d&&(a[d]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);o&&a[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={id:o,exports:{}};return t[o](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var o=n(72),r=n.n(o),s=n(825),a=n.n(s),i=n(659),d=n.n(i),c=n(56),l=n.n(c),p=n(540),u=n.n(p),m=n(113),h=n.n(m),k=n(208),g={};g.styleTagTransform=h(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=u(),r()(k.A,g),k.A&&k.A.locals&&k.A.locals;class f{constructor(){this.projectListElement=document.getElementById("project-list"),this.newProjectInput=document.getElementById("new-project-input"),this.addProjectButton=document.getElementById("add-project-btn"),this.projects=this.loadProjects(),this.addProjectButton.addEventListener("click",()=>this.addProject()),this.newProjectInput.addEventListener("keypress",t=>{"Enter"===t.key&&this.addProject()}),document.addEventListener("tasksUpdated",()=>{this.render()}),this.render()}loadProjects(){const t=localStorage.getItem("projects");return t?JSON.parse(t):[]}saveProjects(){localStorage.setItem("projects",JSON.stringify(this.projects))}addProject(){const t=this.newProjectInput.value.trim();t&&(this.projects.includes(t)||(this.projects.push(t),this.saveProjects(),this.render()),this.newProjectInput.value="")}removeProject(t){this.projects=this.projects.filter(e=>e!==t),this.saveProjects(),this.render();const e=new CustomEvent("tasksUpdated");document.dispatchEvent(e)}getTaskCountForProject(t){const e=localStorage.getItem("tasks");if(e)try{return JSON.parse(e).filter(e=>e.projectId===t).length}catch(t){return console.error("Error parsing tasks from localStorage:",t),0}return 0}selectProject(t){document.querySelectorAll(".project-item").forEach(t=>{t.classList.remove("active")}),event.target.closest(".project-item").classList.add("active");const e=new CustomEvent("projectSelected",{detail:{projectId:t}});document.dispatchEvent(e)}render(){this.projectListElement.innerHTML="",this.projects.forEach(t=>{const e=this.createProjectElement(t);this.projectListElement.appendChild(e)})}createProjectElement(t){const e=this.getTaskCountForProject(t),n=document.createElement("li");n.className="project-item",n.innerHTML=`\n      <span class="project-name">${t}</span>\n      <span class="task-count">${e}</span>\n      <button class="delete-project" style="display: none;">Ã—</button>\n    `,n.addEventListener("click",e=>{e.target.classList.contains("delete-project")||this.selectProject(t)});const o=n.querySelector(".delete-project");return n.addEventListener("mouseenter",()=>{o.style.display="block"}),n.addEventListener("mouseleave",()=>{o.style.display="none"}),o.addEventListener("click",e=>{e.stopPropagation(),this.removeProject(t)}),n}}document.addEventListener("DOMContentLoaded",()=>{new f});class v{constructor(t,e,n,o,r=!1){this.id=this.generateId(),this.title=t,this.description=e,this.dueDate=n,this.projectId=o,this.completed=r}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}toggleComplete(){this.completed=!this.completed}isOverdue(){if(this.completed)return!1;const t=new Date;t.setHours(0,0,0,0);const e=new Date(this.dueDate);return e.setHours(0,0,0,0),e<t}getFormattedDueDate(){return this.dueDate?new Date(this.dueDate).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}getDaysUntilDue(){if(!this.dueDate)return null;const t=new Date;t.setHours(0,0,0,0);const e=new Date(this.dueDate);e.setHours(0,0,0,0);const n=e-t;return Math.ceil(n/864e5)}toJSON(){return{id:this.id,title:this.title,description:this.description,dueDate:this.dueDate,projectId:this.projectId,completed:this.completed}}static fromJSON(t){const e=new v(t.title,t.description,t.dueDate,t.projectId,t.completed);return e.id=t.id,e}}const b=v;class x{constructor(){this.tasks=this.loadTasks(),this.currentProjectId=null,this.taskListElement=document.querySelector(".task-list"),document.addEventListener("projectSelected",t=>{this.currentProjectId=t.detail.projectId,this.render()}),document.addEventListener("taskAdded",()=>{this.tasks=this.loadTasks(),this.render(),this.emitTasksUpdatedEvent()}),document.addEventListener("toggleTaskComplete",t=>{this.toggleTaskComplete(t.detail.taskId)}),document.addEventListener("deleteTask",t=>{this.removeTask(t.detail.taskId)})}loadTasks(){const t=localStorage.getItem("tasks");if(t)try{return JSON.parse(t).map(t=>b.fromJSON(t))}catch(t){return console.error("Error parsing tasks from localStorage:",t),[]}return[]}saveTasks(){localStorage.setItem("tasks",JSON.stringify(this.tasks.map(t=>t.toJSON())))}getTasksForProject(t){return this.tasks.filter(e=>e.projectId===t)}addTask(t,e,n,o){const r=new b(t,e,n,o);return this.tasks.push(r),this.saveTasks(),this.currentProjectId===o&&this.render(),this.emitTasksUpdatedEvent(),r}removeTask(t){this.tasks=this.tasks.filter(e=>e.id!==t),this.saveTasks(),this.currentProjectId&&this.render(),this.emitTasksUpdatedEvent()}toggleTaskComplete(t){const e=this.tasks.find(e=>e.id===t);e&&(e.toggleComplete(),this.saveTasks(),this.currentProjectId===e.projectId&&this.render(),this.emitTasksUpdatedEvent())}sortTasks(t){return[...t].sort((t,e)=>t.completed&&!e.completed?1:!t.completed&&e.completed?-1:t.dueDate&&e.dueDate?new Date(t.dueDate)-new Date(e.dueDate):t.dueDate&&!e.dueDate?-1:!t.dueDate&&e.dueDate?1:0)}emitTasksUpdatedEvent(){const t=new CustomEvent("tasksUpdated");document.dispatchEvent(t)}showAddTaskForm(){const t=document.createElement("div");t.className="add-task-form",t.innerHTML='\n      <h3>Add New Task</h3>\n      <input type="text" id="new-task-title" placeholder="Task title" required>\n      <textarea id="new-task-description" placeholder="Task description"></textarea>\n      <input type="date" id="new-task-due-date">\n      <div class="form-buttons">\n        <button id="cancel-add-task">Cancel</button>\n        <button id="save-add-task">Add Task</button>\n      </div>\n    ',this.taskListElement.innerHTML="",this.taskListElement.appendChild(t),document.getElementById("cancel-add-task").addEventListener("click",()=>{this.render()}),document.getElementById("save-add-task").addEventListener("click",()=>{const t=document.getElementById("new-task-title").value.trim(),e=document.getElementById("new-task-description").value.trim(),n=document.getElementById("new-task-due-date").value;t&&this.currentProjectId&&this.addTask(t,e,n,this.currentProjectId)}),document.getElementById("new-task-title").addEventListener("keypress",t=>{"Enter"===t.key&&document.getElementById("save-add-task").click()})}render(){if(!this.taskListElement)return;if(!this.currentProjectId)return void(this.taskListElement.innerHTML="<p>Select a project to view tasks</p>");const t=this.getTasksForProject(this.currentProjectId),e=this.sortTasks(t);this.taskListElement.innerHTML="";const n=document.createElement("h2");n.textContent="Tasks",this.taskListElement.appendChild(n);const o=document.createElement("button");if(o.textContent="+ Add Task",o.className="add-task-button",o.addEventListener("click",()=>this.showAddTaskForm()),this.taskListElement.appendChild(o),0===e.length){const t=document.createElement("p");return t.textContent="No tasks for this project",t.className="no-tasks-message",void this.taskListElement.appendChild(t)}e.forEach(t=>{const e=this.createTaskElement(t);this.taskListElement.appendChild(e)})}createTaskElement(t){const e=document.createElement("div");e.className=`task-item ${t.completed?"completed":""} ${t.isOverdue()?"overdue":""}`,e.dataset.taskId=t.id,e.innerHTML=`\n      <input type="checkbox" ${t.completed?"checked":""}>\n      <div class="task-title">${t.title}</div>\n      <div class="task-due">${t.dueDate?t.getFormattedDueDate():""}</div>\n    `;const n=e.querySelector('input[type="checkbox"]');return n.addEventListener("change",()=>{this.toggleTaskComplete(t.id)}),e.addEventListener("click",e=>{if(e.target!==n){const e=new CustomEvent("taskSelected",{detail:{taskId:t.id}});document.dispatchEvent(e)}}),e}}document.addEventListener("DOMContentLoaded",()=>{window.taskList=new x});class y{constructor(){this.taskContainerElement=document.querySelector(".task-container"),this.currentTask=null,document.addEventListener("taskSelected",t=>{this.displayTask(t.detail.taskId)}),document.addEventListener("tasksUpdated",()=>{this.currentTask&&this.displayTask(this.currentTask.id)})}loadTasks(){const t=localStorage.getItem("tasks");if(t)try{return JSON.parse(t).map(t=>b.fromJSON(t))}catch(t){return console.error("Error parsing tasks from localStorage:",t),[]}return[]}findTaskById(t){return this.loadTasks().find(e=>e.id===t)||null}displayTask(t){if(!this.taskContainerElement)return;const e=this.findTaskById(t);e?(this.currentTask=e,this.taskContainerElement.innerHTML=`\n      <h2 class="task-title">${e.title}</h2>\n      <p class="task-due-date">${e.dueDate?`Due: ${e.getFormattedDueDate()}`:"No due date"}</p>\n      <p class="task-description">${e.description||"No description provided"}</p>\n      <div class="task-actions">\n        <button id="toggle-complete" class="${e.completed?"completed":""}">\n          ${e.completed?"Mark as Incomplete":"Mark as Complete"}\n        </button>\n        <button id="delete-task" class="delete">Delete Task</button>\n      </div>\n    `,document.getElementById("toggle-complete").addEventListener("click",()=>{this.toggleTaskComplete(t)}),document.getElementById("delete-task").addEventListener("click",()=>{this.deleteTask(t)})):this.taskContainerElement.innerHTML="<p>Select a task to view details</p>"}toggleTaskComplete(t){const e=new CustomEvent("toggleTaskComplete",{detail:{taskId:t}});document.dispatchEvent(e)}deleteTask(t){const e=new CustomEvent("deleteTask",{detail:{taskId:t}});document.dispatchEvent(e),this.taskContainerElement.innerHTML="<p>Select a task to view details</p>",this.currentTask=null}}document.addEventListener("DOMContentLoaded",()=>{window.taskContainer=new y})})();